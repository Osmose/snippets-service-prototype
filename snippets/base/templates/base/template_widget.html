<div class="template-data-widget">
  {{ hidden_input }}
  <div class="fields"></div>

  <h3>Preview</h3>
  <iframe class="snippet-preview" src="{{ url('base.admin.preview_empty') }}"></iframe>

  {% raw %}
  <script class="editor-tmpl" type="text/template">
    <table>
      <tr>
        <th>Name</th>
        <th>Value</th>
      </tr>
      {% for name, datum in data %}
        <tr class="template-data">
          <td><label class="name">{{ name }}</label></td>
          <td>
            {% if datum.type == 0 or datum.type == 2 %}{# Text #}
              <input class="value text" type="text" value="{{ datum.value|escape }}" />
            {% elif datum.type == 1 %}{# Image #}
              <input class="image-upload" type="file" />
              <br />
              <img class="preview" src="{{ datum.value|escape }}" />
              <input class="value" type="hidden" value="{{ datum.value|escape }}" />
            {% endif %}
          </td>
        </tr>
      {% endfor %}
    </table>
  </script>
  {% endraw %}
</div>
